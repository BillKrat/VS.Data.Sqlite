<?xml version="1.0" encoding="utf-8" ?>
<DataObjectSupport xmlns="http://schemas.microsoft.com/VisualStudio/2007/07/Data/DataObjectSupport">
  <Types>
    <RootType>
      <Properties>
        <Property name="DatabaseName" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteRootObjectSelector" />
      </Services>
    </RootType>
    <Type name="Table">
      <Identifier>
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Sql" />
        <Property name="Type" />
        <Property name="NColumns" type="System.Int64" />
        <Property name="WithoutRowid" type="System.Int64" />
        <Property name="Strict" type="System.Int64" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="Tables" />
            <Parameter>
              <Parameter value="NColumns">
                <Parameter value="ncol" />
              </Parameter>
              <Parameter value="WithoutRowid">
                <Parameter value="wr" />
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
        <Service type="IDSRefBuilder" implementationType="Microsoft.VisualStudio.Data.Framework.DSRefBuilder">
          <Parameters method="AppendToDSRef">
            <Parameter>
              <!-- Name -->
              <Parameter value="{0}" />
              <!-- Owner -->
              <Parameter />
              <!-- Type -->
              <Parameter value="TABLE" />
              <!-- ExtendedType -->
              <Parameter />
              <!-- Properties -->
              <Parameter>
                <!-- GUID_DSRefProperty_PreciseType -->
                <Parameter value="39A5A7E7-513F-44a4-B79D-7652CD8962D9">
                  <!-- Table -->
                  <Parameter value="101" type="System.Int32" />
                </Parameter>
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="TableColumn">
      <Identifier>
        <Part name="Table" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Table" isIdentifierPart="true" />
        <Property name="CID" type="System.Int64" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Type" />
        <Property name="NotNull" type="System.Int64" />
        <Property name="DefaultValue" type="System.Object" />
        <Property name="PrimaryKey" type="System.Int64" />
        <Property name="Hidden" type="System.Int64" />
        <Property name="Collate" />
        <Property name="AutoIncrement" type="System.Int32" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="TableColumns" />
            <Parameter>
              <Parameter value="DefaultValue">
                <Parameter value="dflt_value" />
              </Parameter>
              <Parameter value="PrimaryKey">
                <Parameter value="pk" />
              </Parameter>
              <Parameter value="Collate">
                <Parameter value="collSeq" />
              </Parameter>
              <Parameter value="AutoIncrement">
                <Parameter value="autoInc" />
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="TableIndex">
      <Identifier>
        <Part name="Table" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Table" isIdentifierPart="true" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Unique" type="System.Int64" />
        <Property name="Origin" />
        <Property name="Partial" type="System.Int64" />
        <Property name="Sql" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="TableIndexes" />
            <Parameter>
              <Parameter value="Table">
                <Parameter value="tbl_name" />
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="TableIndexColumn">
      <Identifier>
        <Part name="Table" />
        <Part name="Index" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Table" isIdentifierPart="true" />
        <Property name="Index" isIdentifierPart="true" />
        <Property name="SeqNo" type="System.Int64" />
        <Property name="CID" type="System.Int64" />
        <!-- TODO: Use rowid for Name when CID is -1? -->
        <!-- TODO: Use (expr) for Name when CID is -2? -->
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Descending" type="System.Int64" />
        <Property name="Collate" />
        <Property name="Key" type="System.Int64" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="TableIndexColumns" />
            <Parameter>
              <Parameter value="Table">
                <Parameter value="tbl_name" />
              </Parameter>
              <Parameter value="Descending">
                <Parameter value="desc" />
              </Parameter>
              <Parameter value="Collate">
                <Parameter value="collSeq" />
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="TableTrigger">
      <Identifier>
        <Part name="Table" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Table" isIdentifierPart="true" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Sql" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="TableTriggers" />
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="View">
      <Identifier>
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Sql" />
        <Property name="NColumns" type="System.Int64" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="Views" />
            <Parameter>
              <Parameter value="NColumns">
                <Parameter value="ncol" />
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
        <Service type="IDSRefBuilder" implementationType="Microsoft.VisualStudio.Data.Framework.DSRefBuilder">
          <Parameters method="AppendToDSRef">
            <Parameter>
              <!-- Name -->
              <Parameter value="{0}" />
              <!-- Owner -->
              <Parameter />
              <!-- Type -->
              <Parameter value="VIEW" />
              <!-- ExtendedType -->
              <Parameter />
              <!-- Properties -->
              <Parameter>
                <!-- GUID_DSRefProperty_PreciseType -->
                <Parameter value="39A5A7E7-513F-44a4-B79D-7652CD8962D9">
                  <!-- View -->
                  <Parameter value="301" type="System.Int32" />
                </Parameter>
              </Parameter>
            </Parameter>
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="ViewColumn">
      <Identifier>
        <Part name="View" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="View" isIdentifierPart="true" />
        <Property name="CID" type="System.Int64" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Type" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="ViewColumns" />
          </Parameters>
        </Service>
      </Services>
    </Type>
    <Type name="ViewTrigger">
      <Identifier>
        <Part name="View" />
        <Part name="Name" />
      </Identifier>
      <Properties>
        <Property name="View" isIdentifierPart="true" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="Sql" />
      </Properties>
      <Services>
        <Service type="IVsDataObjectSelector" implementationType="Microsoft.VisualStudio.Data.Sqlite.SqliteObjectSelector">
          <Parameters method="SelectObjects">
            <Parameter value="ViewTriggers" />
          </Parameters>
        </Service>
      </Services>
    </Type>
  </Types>
  <MappedTypes>
    <MappedType name="Table" underlyingType="Table">
      <Selection restrictions="{Name}" ordering="Name" />
      <Identifier>
        <Part name="Catalog">
          <Conversion>
            <Calculate expr="'main'" exprType="System.String" />
          </Conversion>
        </Part>
        <Part name="Name" underlyingMember="Name" />
      </Identifier>
      <Properties>
        <Property name="Catalog" isIdentifierPart="true" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="IsSystemObject" underlyingMember="Name">
          <Conversion>
            <Calculate expr="{0} LIKE 'sqlite_%'" exprType="System.Boolean" />
          </Conversion>
        </Property>
      </Properties>
    </MappedType>
    <MappedType name="TableColumn" underlyingType="TableColumn">
      <Selection restrictions="{Table},{Name}" ordering="Table,CID" />
      <Identifier>
        <Part name="Catalog">
          <Conversion>
            <Calculate expr="'main'" exprType="System.String" />
          </Conversion>
        </Part>
        <Part name="Table" underlyingMember="Table" />
        <Part name="Name" underlyingMember="Name" />
      </Identifier>
      <Properties>
        <Property name="Catalog" isIdentifierPart="true" />
        <Property name="Table" isIdentifierPart="true" />
        <Property name="Ordinal" underlyingMember="CID">
          <Conversion>
            <ChangeType type="System.Int32" />
          </Conversion>
        </Property>
        <Property name="Name" isIdentifierPart="true" />
        <Property name="NativeDataType" underlyingMember="Type" />
        <Property name="AdoDotNetDataType" underlyingMember="Type">
          <Conversion>
            <CallMapper />
          </Conversion>
        </Property>
        <Property name="AdoDotNetDbType" underlyingMember="Type">
          <Conversion>
            <CallMapper />
          </Conversion>
        </Property>
        <Property name="FrameworkDataType" underlyingMember="Type">
          <Conversion>
            <CallMapper />
          </Conversion>
        </Property>
        <Property name="IsNullable" underlyingMember="NotNull">
          <Conversion>
            <Calculate expr="{0} = 0" exprType="System.Boolean" />
          </Conversion>
        </Property>
        <Property name="DefaultValue" underlyingMember="DefaultValue" />
        <Property name="IsComputed" underlyingMember="Hidden">
          <Conversion>
            <Calculate expr="{0} IN (2, 3)" exprType="System.Boolean"/>
          </Conversion>
        </Property>
      </Properties>
    </MappedType>
    <MappedType name="TableUniqueKey" underlyingType="TableIndex">
      <Selection restrictions="{Table},{Name}" filter="Unique = 1" ordering="Table,Name" />
      <Identifier>
        <Part name="Catalog">
          <Conversion>
            <Calculate expr="'main'" exprType="System.String" />
          </Conversion>
        </Part>
        <Part name="Table" underlyingMember="Table" />
        <Part name="Name" underlyingMember="Name" />
      </Identifier>
      <Properties>
        <Property name="Name" isIdentifierPart="true" />
        <Property name="IsPrimary" underlyingMember="Origin">
          <Conversion>
            <Calculate expr="{0} = 'pk'" exprType="System.Boolean" />
          </Conversion>
        </Property>
      </Properties>
    </MappedType>
    <MappedType name="TableUniqueKeyColumn" underlyingType="TableIndexColumn">
      <Selection restrictions="{Table},{TableUniqueKey},{Name}" ordering="Table,Index,SeqNo" />
      <Identifier>
        <Part name="Catalog">
          <Conversion>
            <Calculate expr="'main'" exprType="System.String" />
          </Conversion>
        </Part>
        <Part name="Table" underlyingMember="Table" />
        <Part name="UniqueKey" underlyingMember="Index" />
        <Part name="Name" underlyingMember="Name" />
      </Identifier>
      <Properties>
        <Property name="Name" isIdentifierPart="true" />
      </Properties>
    </MappedType>
    <MappedType name="View" underlyingType="View">
      <Selection restrictions="{Name}" ordering="Name" />
      <Identifier>
        <Part name="Catalog">
          <Conversion>
            <Calculate expr="'main'" exprType="System.String" />
          </Conversion>
        </Part>
        <Part name="Name" underlyingMember="Name" />
      </Identifier>
      <Properties>
        <Property name="Catalog" isIdentifierPart="true" />
        <Property name="Name" isIdentifierPart="true" />
        <Property name="IsSystemObject" underlyingMember="Name">
          <Conversion>
            <Calculate expr="{0} LIKE 'sqlite_%'" exprType="System.Boolean" />
          </Conversion>
        </Property>
      </Properties>
    </MappedType>
  </MappedTypes>
</DataObjectSupport>
